---
index: 8
title: 8. Generating InSpec Results
author: Aaron Lippold
headerDepth: 3
---

## Generating InSpec Results

InSpec allows you to output your test results to one or more reporters. You can configure the reporter(s) using either the `--json-config` option or the `--reporter` option. While you can configure multiple reporters to write to different files, only one reporter can output to the screen (via stdout).

::: code-tabs#shell

@tab Command
```sh
inspec exec ./my_nginx -t docker://nginx --reporter cli json:baseline_output.json
```

@tab Generic Command
```sh
inspec exec /root/my_nginx -t docker://CONTAINER_NAME --reporter cli json:baseline_output.json
```
:::


### Syntax

You can specify one or more reporters using the `--reporter cli` flag. You can also specify a output by appending a path separated by a colon.

Output json to screen:

::: code-tabs#shell

@tab Command
```sh
inspec exec /root/my_nginx --reporter json
```
@tab Alternative Command
```sh
inspec exec /root/my_nginx --reporter json:-
```
:::

Output yaml to screen:

::: code-tabs#shell

@tab Command
```sh
inspec exec /root/my_nginx --reporter yaml
```
@tab ALternative Command
```sh
inspec exec /root/my_nginx --reporter yaml:-
```
:::

Output cli to screen and write json to a file:

```sh
inspec exec /root/my_nginx --reporter cli json:tmp/output.json
```

Output nothing to screen and write junit and html to a file:

```sh
inspec exec /root/my_nginx --reporter junit:tmp/junit.xml html:www/index.html
```
Output json to screen and write to a junit file:

```sh
inspec exec /root/my_nginx --reporter json junit:tmp/junit.xml | tee out.json
```

If you wish to pass the profiles directly after specifying the reporters you will need to use the end of options flag `--`:

```sh
inspec exec --reporter json junit:tmp/junit.xml -- profile1 profile2
```

You can run a sample InSpec command against the nginx target running in the development lab environment using your `my_nginx` profile. Remember, this profile only has one sample control right now.

#### InSpec `config.json` file

InSpec also let's you capture all these in a  configuration file:

```json
{
  "reporter": {
    "cli": {
      "stdout": true
    },
    "json": {
      "file": "tmp/output.json",
      "stdout": false
    }
  }
}
```
You can read more about this at <https://docs.chef.io/inspec/config/>
### Supported Reporters

The following are the current supported reporters:

- cli
- json
- json-min
- yaml
- documentation
- junit
- progress
- json-rspec
- html

You can read more here: <https://www.inspec.io/docs/reference/reporters/>

#### Generating good report filenames

We recommend that you use descriptive filenames when you run InSpec in the real world. You will likely eventually aggregate dozens of report files that were generated by multiple systems over time, so we recommend that you generate reports that specify the target they were run against (for example, the hostname if you are scanning an operating system) and a timestamp. This will save you headaches later.

`inspec exec my-profile --reporter json:filename-including-target-hostname-timestamp.json`

Note that if you save InSpec results to a file (such as with the `json` reporter), and then re-run the same command, you will overwrite the original contents of that file with the more recent results. Sometimes this is what you want to do, but sometimes it is not, and you want to be sure that all of your reports have unique names.

Recall that we are running InSpec inside a bash shell, and we can therefore use other bash commands inside my `inspec exec` command. For example, bash includes the `date` command that can produce formatted timestamp strings.

::: code-tabs#shell
@tab Generating a timestamped result filename
```sh
inspec exec ./my_nginx/ -t docker://nginx --reporter json:my-results-$(date +"%Y-%m-%d-%H-%M-%S").json
```
@tab The resulting filename
```sh
my-results-2023-02-09-15-40-47.json
```
:::

### Putting it all together

The following command will run the nginx baseline profile from github and use the reporter to output a json file. You will need this json file for the next step of loading it into Heimdall:

```sh
inspec exec https://github.com/mitre/nginx-stigready-baseline -t docker://nginx --reporter cli json:baseline_output_full.json
```
